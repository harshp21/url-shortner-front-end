{"version":3,"sources":["webpack://url-shortner(front-end)/./src/index.ts","webpack://url-shortner(front-end)/webpack/startup"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["let apiUrl = 'http://localhost:8080';\r\n\r\nlet fetchAllUrlDetails = async () => {\r\n    try {\r\n        let urlDetails = await fetch(`${apiUrl}/url-data`);\r\n        let urlDetailsJson = await urlDetails.json();\r\n        return urlDetailsJson;\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}\r\n\r\nlet displayUrlDetails = async () => {\r\n    showLoader();\r\n    let urlDetailsJson = await fetchAllUrlDetails();\r\n    hideLoader();\r\n    createDomForUrlDetails(urlDetailsJson);\r\n}\r\n\r\nlet redirectToOriginalUrl = async (shortUrl: string) => {\r\n    showLoader();\r\n    let urlDetails = await fetchRedirectUrl(shortUrl);\r\n    displayUrlDetails();\r\n    window.open(`${urlDetails.data.url}`, '_blank');\r\n    hideLoader();\r\n}\r\n\r\nlet fetchRedirectUrl = async (shortUrl: string) => {\r\n    try {\r\n        let urlData = await fetch(`${apiUrl}/redirect-url/${shortUrl}`);\r\n        let urlDataJson = await urlData.json();\r\n        return urlDataJson;\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}\r\n\r\n\r\nlet createDomForUrlDetails = (urlDetailsJson) => {\r\n    let urlDetails = urlDetailsJson.data;\r\n\r\n    let tableContainer = document.createElement('div');\r\n    tableContainer.classList.add('container-table');\r\n\r\n    let tableHeaderRow = document.createElement('div');\r\n    tableHeaderRow.classList.add('container-table-header-row');\r\n\r\n    let columnHeaders = ['Sr no.', 'Url', 'Short Url', 'Clicks'];\r\n    columnHeaders.forEach(element => {\r\n        let columnData = document.createElement('div');\r\n        columnData.classList.add('column-table-data');\r\n        columnData.innerHTML = element;\r\n        tableHeaderRow.append(columnData);\r\n    })\r\n\r\n    tableContainer.append(tableHeaderRow);\r\n\r\n    urlDetails.forEach((element, index) => {\r\n        let columnRow = document.createElement('div');\r\n        columnRow.classList.add('column-table-row');\r\n\r\n        let columnSerialData = document.createElement('div');\r\n        columnSerialData.classList.add('column-data');\r\n        columnSerialData.innerHTML = index + 1;\r\n\r\n        let columnUrlData = document.createElement('div');\r\n        columnUrlData.classList.add('column-data', 'url-data');\r\n        columnUrlData.innerHTML = `<a href=\"${element.url}\" target=\"_blank\">${element.url}</a>`;\r\n\r\n        let columnShortUrlData = document.createElement('div');\r\n        columnShortUrlData.classList.add('column-data', 'short-url');\r\n        columnShortUrlData.innerHTML = `${element.shortUrl}`;\r\n        columnShortUrlData.onclick = () => {\r\n            redirectToOriginalUrl(element.shortUrl);\r\n        }\r\n\r\n        let columnUrlClicksData = document.createElement('div');\r\n        columnUrlClicksData.classList.add('column-data');\r\n        columnUrlClicksData.innerHTML = element.clicks;\r\n\r\n        columnRow.append(columnSerialData, columnUrlData, columnShortUrlData, columnUrlClicksData);\r\n        tableContainer.appendChild(columnRow);\r\n    });\r\n    document.getElementById('table-contents').innerHTML = '';\r\n    document.getElementById('table-contents').append(tableContainer);\r\n\r\n}\r\n\r\nlet createLoader = () => {\r\n    let loaderContainer = document.createElement('div');\r\n    loaderContainer.classList.add('loader-container');\r\n    loaderContainer.id = 'loader-contanier';\r\n\r\n    let loader = document.createElement('div');\r\n    loader.classList.add('loader');\r\n\r\n    loaderContainer.append(loader);\r\n    document.body.append(loaderContainer)\r\n}\r\n\r\nlet showLoader = () => {\r\n    document.getElementById('loader-contanier').style.display = 'flex';\r\n}\r\n\r\nlet hideLoader = () => {\r\n    document.getElementById('loader-contanier').style.display = 'none';\r\n}\r\n\r\nlet shortenUrl = async () => {\r\n    try {\r\n        showLoader();\r\n        let url = (<HTMLInputElement>document.getElementById('shrink-text')).value;\r\n        let shortenUrl = await fetch(`${apiUrl}/shorten-url`, {\r\n\r\n            // Adding method type \r\n            method: \"POST\",\r\n\r\n            // Adding body or contents to send \r\n            body: JSON.stringify({\r\n                url,\r\n            }),\r\n\r\n            // Adding headers to the request \r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            }\r\n        });\r\n        let shortenUrlDetails = await shortenUrl.json();\r\n        (<HTMLInputElement>document.getElementById('shrink-text')).value = '';\r\n        displayMsgModal(shortenUrlDetails.message);\r\n        displayUrlDetails();\r\n        hideLoader();\r\n    } catch (err) {\r\n\r\n    }\r\n}\r\n\r\nlet displayMsgModal = (msg) => {\r\n    let msgModalContainer = document.createElement('div');\r\n    msgModalContainer.classList.add('msg-modal-container');\r\n    msgModalContainer.id = 'msg-modal-container';\r\n\r\n    let msgModalContent = document.createElement('div');\r\n    msgModalContent.classList.add('msg-modal-content');\r\n    msgModalContent.innerHTML = msg;\r\n\r\n    let modalCloseBtn = document.createElement('div');\r\n    modalCloseBtn.classList.add('modal-close-btn');\r\n    modalCloseBtn.innerHTML = 'close';\r\n\r\n    msgModalContent.append(modalCloseBtn);\r\n\r\n    msgModalContainer.append(msgModalContent);\r\n    document.body.append(msgModalContainer);\r\n\r\n    modalCloseBtn.onclick = () => {\r\n        msgModalContainer.style.display = 'none';\r\n    }\r\n    setTimeout(() => {\r\n        msgModalContainer.remove();\r\n    }, 3000)\r\n}\r\n\r\ndocument.getElementById('shortenUrl').addEventListener('click', () => {\r\n    shortenUrl();\r\n})\r\ncreateLoader();\r\ndisplayUrlDetails();","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_modules__[\"./src/index.ts\"]();\n"],"sourceRoot":""}